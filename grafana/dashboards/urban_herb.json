# Create grafana/dashboards/urban_herb.json
mkdir -p grafana/dashboards
cat > grafana/dashboards/urban_herb.json << EOL
{
  "title": "UrbanHerb System Dashboard",
  "annotations": {
    "list": []
  },
  "editable": true,
  "fiscalYearStartMonth": 0,
  "graphTooltip": 0,
  "links": [],
  "liveNow": false,
  "panels": [
    {
      "title": "Authentication Metrics",
      "type": "stat",
      "datasource": "Prometheus",
      "targets": [
        {
          "expr": "urban_herb_auth_success_total",
          "legendFormat": "Successful Logins"
        },
        {
          "expr": "urban_herb_auth_failure_total",
          "legendFormat": "Failed Logins"
        }
      ]
    },
    {
      "title": "API Performance",
      "type": "graph",
      "datasource": "Prometheus",
      "targets": [
        {
          "expr": "rate(urban_herb_api_request_duration_seconds_sum[5m])",
          "legendFormat": "{{method}} {{endpoint}}"
        }
      ]
    },
    {
      "title": "Mobile App Performance",
      "type": "graph",
      "datasource": "Prometheus",
      "targets": [
        {
          "expr": "urban_herb_mobile_render_duration_seconds",
          "legendFormat": "Screen Render Time"
        },
        {
          "expr": "urban_herb_mobile_memory_usage_bytes",
          "legendFormat": "Memory Usage"
        }
      ]
    }
  ]
}
EOL